{"version":3,"sources":["desh_pickaxe.js"],"names":["_server","require","EnchantDeshPickaxe","player","_classCallCheck","this","inv","getComponent","container","getItem","selectedSlotIndex","item","typeId","enchComp","console","log","enchantment","type","EnchantmentType","level","addEnchantment","setItem","world","beforeEvents","subscribe","_ref","itemComponentRegistry","onPlayerDestroy","_ref2","block","enchant"],"mappings":"aACA,IAAAA,QAAAC,QAAA,+ZAGMC,8BACF,SAAAA,EAAYC,GAAQC,gBAAAC,KAAAH,GAChBG,KAAKF,OAASA,8DAGd,IAAIG,EAAMD,KAAKF,OAAOI,aAAa,aAAaC,UALlDN,EAAAA,EAMiBO,QAAQJ,KAAKF,OAAOO,mBAEnC,GAAIC,GAAwB,wBAAhBA,EAAKC,OAAkC,CAPvD,IAAAC,EAAAF,EAAYR,aAAQ,eAAA,IAAAU,EAChB,YASQC,QAAQC,IAAI,yCAGhB,IAAMC,EAAc,CAAEC,KAAM,IAAIC,QAAAA,gBAAgB,cAAeC,MAAO,GACtEN,EAASO,eAAeJ,GACxBV,EAAIe,QAAQhB,KAAKF,OAAOO,kBAAmBC,aAR/CW,QAAAA,MAAAC,aAAYZ,gBAAgBa,UAAA,SAAAC,GAAuBA,EAAvBC,sBACTf,wBAAkB,sBAAjC,CAcTgB,gBAdS,SAAAC,GAckB,IAATC,EAASD,EAATC,MAbT3B,mBAAe4B,QAAAD","file":"desh_pickaxe.min.js","sourcesContent":["\r\nimport { world, EnchantmentType } from \"@minecraft/server\";\r\n\r\n\r\nclass EnchantDeshPickaxe {\r\n    constructor(player) {\r\n        this.player = player;\r\n    }\r\n   static enchant() {\r\n        let inv = this.player.getComponent(\"inventory\").container\r\n        let item = inv.getItem(this.player.selectedSlotIndex);\r\n        \r\n        if (item && item.typeId === \"cosmos:desh_pickaxe\") {\r\n            let enchComp = item.getComponent('enchantable');\r\n            if (!enchComp) {\r\n                console.log(\"The selected item is not enchantable.\");\r\n                return; // Exit if the item is not enchantable\r\n            }\r\n            const enchantment = { type: new EnchantmentType('silk_touch'), level: 1 };\r\n            enchComp.addEnchantment(enchantment);\r\n            inv.setItem(this.player.selectedSlotIndex, item);\r\n          }\r\n        }\r\n    }\r\n\r\nworld.beforeEvents.worldInitialize.subscribe(({ itemComponentRegistry }) => {\r\n\t\titemComponentRegistry.registerCustomComponent('cosmos:enchant_desh', {\r\n\t\t\tonPlayerDestroy({ block }) {\r\n\t\t\t\tEnchantDeshPickaxe.enchant(block);\r\n\t\t\t}\r\n\t\t});\r\n\t});"]}