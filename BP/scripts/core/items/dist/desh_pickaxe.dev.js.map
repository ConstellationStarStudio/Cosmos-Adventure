{"version":3,"sources":["desh_pickaxe.js"],"names":["EnchantDeshPickaxe","player","inv","getComponent","container","item","getItem","selectedSlotIndex","typeId","enchComp","console","log","enchantment","type","EnchantmentType","level","addEnchantment","setItem","world","beforeEvents","worldInitialize","subscribe","itemComponentRegistry","registerCustomComponent","onPlayerDestroy","block","enchant"],"mappings":";;AACA;;;;;;;;IAGMA,kB;;;AACF,8BAAYC,MAAZ,EAAoB;AAAA;;AAChB,SAAKA,MAAL,GAAcA,MAAd;AACH;;;;8BACe;AACZ,UAAIC,GAAG,GAAG,KAAKD,MAAL,CAAYE,YAAZ,CAAyB,WAAzB,EAAsCC,SAAhD;AACA,UAAIC,IAAI,GAAGH,GAAG,CAACI,OAAJ,CAAY,KAAKL,MAAL,CAAYM,iBAAxB,CAAX;;AAEA,UAAIF,IAAI,IAAIA,IAAI,CAACG,MAAL,KAAgB,qBAA5B,EAAmD;AAC/C,YAAIC,QAAQ,GAAGJ,IAAI,CAACF,YAAL,CAAkB,aAAlB,CAAf;;AACA,YAAI,CAACM,QAAL,EAAe;AACXC,UAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ;AACA,iBAFW,CAEH;AACX;;AACD,YAAMC,WAAW,GAAG;AAAEC,UAAAA,IAAI,EAAE,IAAIC,uBAAJ,CAAoB,YAApB,CAAR;AAA2CC,UAAAA,KAAK,EAAE;AAAlD,SAApB;AACAN,QAAAA,QAAQ,CAACO,cAAT,CAAwBJ,WAAxB;AACAV,QAAAA,GAAG,CAACe,OAAJ,CAAY,KAAKhB,MAAL,CAAYM,iBAAxB,EAA2CF,IAA3C;AACD;AACF;;;;;;AAGTa,cAAMC,YAAN,CAAmBC,eAAnB,CAAmCC,SAAnC,CAA6C,gBAA+B;AAAA,MAA5BC,qBAA4B,QAA5BA,qBAA4B;AAC1EA,EAAAA,qBAAqB,CAACC,uBAAtB,CAA8C,qBAA9C,EAAqE;AACpEC,IAAAA,eADoE,kCACzC;AAAA,UAATC,KAAS,SAATA,KAAS;AAC1BzB,MAAAA,kBAAkB,CAAC0B,OAAnB,CAA2BD,KAA3B;AACA;AAHmE,GAArE;AAKA,CANF","sourcesContent":["\r\nimport { world, EnchantmentType } from \"@minecraft/server\";\r\n\r\n\r\nclass EnchantDeshPickaxe {\r\n    constructor(player) {\r\n        this.player = player;\r\n    }\r\n   static enchant() {\r\n        let inv = this.player.getComponent(\"inventory\").container\r\n        let item = inv.getItem(this.player.selectedSlotIndex);\r\n        \r\n        if (item && item.typeId === \"cosmos:desh_pickaxe\") {\r\n            let enchComp = item.getComponent('enchantable');\r\n            if (!enchComp) {\r\n                console.log(\"The selected item is not enchantable.\");\r\n                return; // Exit if the item is not enchantable\r\n            }\r\n            const enchantment = { type: new EnchantmentType('silk_touch'), level: 1 };\r\n            enchComp.addEnchantment(enchantment);\r\n            inv.setItem(this.player.selectedSlotIndex, item);\r\n          }\r\n        }\r\n    }\r\n\r\nworld.beforeEvents.worldInitialize.subscribe(({ itemComponentRegistry }) => {\r\n\t\titemComponentRegistry.registerCustomComponent('cosmos:enchant_desh', {\r\n\t\t\tonPlayerDestroy({ block }) {\r\n\t\t\t\tEnchantDeshPickaxe.enchant(block);\r\n\t\t\t}\r\n\t\t});\r\n\t});"],"file":"desh_pickaxe.dev.js"}